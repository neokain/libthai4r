<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>libthai4r by phuwanart</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>libthai4r</h1>
        <p>Ruby libthai binding for Ruby.</p>

        <p class="view"><a href="https://github.com/phuwanart/libthai4r">View the Project on GitHub <small>phuwanart/libthai4r</small></a></p>


        <ul>
          <li><a href="https://github.com/phuwanart/libthai4r/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/phuwanart/libthai4r/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/phuwanart/libthai4r">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>
<a id="libthai4r" class="anchor" href="#libthai4r" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>libthai4r</h1>

<p>Ruby libthai binding for Ruby.</p>

<p>Original progect <a href="http://code.google.com/p/libthai4r">http://code.google.com/p/libthai4r</a></p>

<h2>
<a id="install" class="anchor" href="#install" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Install</h2>

<h3>
<a id="libdatrie" class="anchor" href="#libdatrie" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>libdatrie</h3>

<pre><code>$ wget ftp://linux.thai.net/pub/thailinux/software/libthai/libdatrie-0.2.4.tar.gz
$ tar zxvf libdatrie-0.2.4.tar.gz
$ cd libdatrie-0.2.4
$ ./configure
$ make
$ sudo make install
</code></pre>

<h3>
<a id="libthai" class="anchor" href="#libthai" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>libthai</h3>

<pre><code>$ wget http://linux.thai.net/pub/thailinux/software/libthai/libthai-0.1.16.tar.gz
$ tar zxvf libthai-0.1.16.tar.gz
$ cd libthai-0.1.16/
$ ./configure
$ make
$ sudo make install
</code></pre>

<h3>
<a id="ruby-libthai" class="anchor" href="#ruby-libthai" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>ruby-libthai</h3>

<pre><code>$ mkdir libthai4r &amp;&amp; curl -L https://github.com/neokain/libthai4r/tarball/master | tar xz --strip 1 -C libthai4r
$ cd libthai4r
$ ruby extconf.rb
$ make
$ sudo make install
</code></pre>

<p>In command <code>$ make</code> if you found error like this (I found this problem when compile in Linux)</p>

<pre><code>$ make
./libthai.so: file not recognized: File truncated
collect2: ld returned 1 exit status
make: *** [libthai.so] Error 1
</code></pre>

<p>Because can't make <code>libthai.so</code>. The way of fix it you mush modify <code>Makfile</code>.</p>

<p>Find 2 line in <code>Makefile</code></p>

<pre><code>LLIB = $(TARGET).so
</code></pre>

<p>and</p>

<pre><code>CLEANLIBS     = $(TARGET).so
</code></pre>

<p>Change extension name form <code>.so</code> to <code>.sox</code>. Then run <code>$ make</code> again. You must have <code>libthai.sox</code>.</p>

<p>Run <code>$ sudo make install</code>. You have message like this:</p>

<pre><code>usr/bin/install -c -m 0755 libthai.sox /home/phuwanart/.rvm/rubies/ruby-2.0.0-p195/lib/ruby/site_ruby/2.0.0/i686-linux
installing default libthai libraries
</code></pre>

<p>atfer that goto <code>/home/phuwanart/.rvm/rubies/ruby-2.0.0-p195/lib/ruby/site_ruby/2.0.0/i686-linux</code> and change file name extension back to <code>.so</code>:</p>

<pre><code>$ mv libthai.sox libthai.so
</code></pre>

<p>You can test with test file in test folder of source:</p>

<pre><code>$ ruby test/thbrk.rb
ภาษา|ไทย|เป็น|ภาษา|ที่|ง่าย|ที่สุด|ใน|โลก
</code></pre>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Usage</h2>

<p>You much install iconv if You using RMV.</p>

<pre><code>$ gem install iconv
</code></pre>

<p>Example:</p>

<pre><code>#!/usr/bin/env ruby
# encoding: utf-8

require "iconv"
require 'libthai'

utf8_to_tis620 = Iconv.new("TIS620", "UTF-8")
a = LibThai::brk_line(utf8_to_tis620.iconv("ภาษาไทยเป็นภาษาที่ง่ายที่สุดในโลก"))

tis620_to_utf8 = Iconv.new("UTF-8", "TIS620")
o = tis620_to_utf8.iconv(a)

print o
</code></pre>

<p>Result:</p>

<pre><code>ภาษา|ไทย|เป็น|ภาษา|ที่|ง่าย|ที่สุด|ใน|โลก
</code></pre>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>License</h2>

<p>Copyright © 2013 Phuwanart Larpmark, released under the MIT license</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/phuwanart">phuwanart</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
